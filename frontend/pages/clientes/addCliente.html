<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
</head>
<body>
    <div class="container-fluid" style="background-color: #0a0a0a;">
        <nav class="navbar navbar-expand-md navbar-dark container" style="background-color: #0a0a0a;">
            <a class="navbar-brand" href="index.jsp">
                <img src="imggym/trainerlogo.JPG" width="550" height="125" class="d-inline-block align-top" alt="">
            </a>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto mr-3">
                     <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="actionClientes" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                             Clientes
                         </a>
                        <div class="dropdown-menu" aria-labelledby="actionClientes">
                            <a class="dropdown-item" href="./../clientes/listarClientes.html">Listar Clientes</a>
                            <a class="dropdown-item" href="./../clientes/añadirCliente.html">Añadir Clientes</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="actionClientes" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                             Entrenadores
                         </a>
                        <div class="dropdown-menu" aria-labelledby="actionClientes">
                            <a class="dropdown-item" href="./../personal/listarTrainers.html">Listar Entrenadores</a>
                            <a class="dropdown-item" href="./../personal/añadirPersonal.html">Añadir Entrenadores</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="actionClientes" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                             Clases
                         </a>
                        <div class="dropdown-menu" aria-labelledby="actionClientes">
                            <a class="dropdown-item" href="./../clases/añadirClase.html">Añadir Clase</a>
                            <a class="dropdown-item" href="./../clases/listarClases.html">Listar Clases</a>
                        </div>
                    </li>
                     <li class="nav-item">
                        <a class="nav-link text-white" href="./../servicios/listarServicios.html">Entrenamientos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="./../informacion/contactenos.html">Contactenos</a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>   

    <div class="container">
        <form  id="formularioCliente">
          <div class="form-group">
            <label for="nombre">Nombres</label>
            <input type="text" class="form-control" name="nombre" id="nombre" placeholder="Escriba su nombre" minlength="3" maxlength="20" required pattern="[A-Za-z ]+" autofocus>
          </div>
          <div class="form-group">
            <label for="apellido">Apellido Paterno</label>
            <input type="text" class="form-control" name="apellido_paterno" id="ape_pat" placeholder="Escriba su apellido paterno" minlength="3" maxlength="20" required pattern="[A-Za-z]+">
          </div>
          <div class="form-group">
            <label for="apellido2">Apellido Materno</label>
            <input type="text" class="form-control" name="apellido_materno" id="ape_mat" placeholder="Escriba su apellido materno" minlength="3" maxlength="20" required pattern="[A-Za-z]+">
        </div>
          <div class="form-group">
            <label for="fecha_nac">Fecha nacimiento</label>
            <input type="date" class="form-control"  name="fecha_nacimiento" id="fecha"  min="1950-01-01" max="2003-01-01" required>
          </div>
          <div class="form-group">
            <label for="email">Email</label>
            <input type="email" class="form-control" name="email" id="email" placeholder="Escriba un correo válido" minlength="8" maxlength="45" required>
          </div>
          <div class="form-group">
            <label for="tipodocumento">Tipo_Documento</label>
            <select class="form-control" name="tipo_doc" id="doc_type" required>
              <option value="">----Seleccione----</option>
              <option value="1">DNI</option>
              <option value="2">PASAPORTE</option>
              <option value="3">CARNET DE EXTRANJERIA</option>
           </select>
          </div>
          <div class="form-group">
            <label for="numdocumento">Documento</label>
            <input type="text" class="form-control" name="documento" id="documento" placeholder="Escriba su documento" minlength="8" required>
          </div>
          <div class="form-group">
            <label for="numdocumento">Telefono</label>
            <input type="text" class="form-control" name="telefono" id="telefono" placeholder="Escriba su documento" minlength="8" required>
          </div>
          <div class="form-group">
            <label for="direccion">Direccion</label>
            <input type="text" class="form-control" name="direccion" id="direccion" placeholder="Escriba su direccion" maxlength="35"  required pattern="[A-Za-z0-9 ]+" >
          </div>
          <div class="form-group">
            <label for="membresia">Tipo Membresia</label>
            <select class="form-control" name="tipoMembresiaId" id="membresia" required>
              <option value="">----Seleccione----</option>
              <option value="VIP">VIP</option>
              <option value="ESTANDAR">ESTANDAR</option>
            </select>
          </div>
          <div class="form-group">
            <button type="submit" id="submit" class="btn btn-primary">Agregar</button>
            <a class="btn btn-danger" href="../">Cancelar</a>
          </div>
        </form>
        </div>     
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>

      document.getElementById('submit').addEventListener('click', (e) => {
        e.preventDefault();
        const user = {
        nombre: document.getElementById('nombre').value,
        apellido_paterno: document.getElementById('ape_pat').value,
        apellido_materno: document.getElementById('ape_mat').value,
        fecha_nacimiento: document.getElementById('fecha').value,
        email: document.getElementById('email').value,
        tipo_doc: document.getElementById('doc_type').value,
        documento: document.getElementById('documento').value,
        telefono: document.getElementById('telefono').value,
        direccion: document.getElementById('direccion').value,
        membresia: document.getElementById('membresia').value
      }

      axios({
        method: 'POST',
        url: 'http://localhost:5000/api/customers/add',
        data : user
      }).then(res => {
        Swal.fire({
          position: 'top-end',
          icon: 'success',
          title: "Customer created successfully",
          showConfirmButton: false,
          timer: 1500
        })
      }).catch(err => {
        console.log(err);
        })
      })
    </script>
  </body>
</html>